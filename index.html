<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>常用网站合集</title>
    <link rel="icon" href="images/web.png" type="image/png">
    <link rel="shortcut icon" href="images/web.png" type="image/png">
    <link rel="apple-touch-icon" href="images/web.png">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/content.css">
    <link rel="stylesheet" href="styles/modal.css">
</head>
<body>
    <header class="header">
        <div class="logo-container">
            <img src="images/web.png" alt="Logo" class="header-logo">
            <div class="title-container">
                <h1>常用网站合集</h1>
                <button id="edit-title-btn" class="edit-title-btn">&#9998;</button>
            </div>
        </div>
        <div class="search-container">
            <div class="search-input-row">
                <input type="search" class="search-box" placeholder="搜索常用网站...">
                <button id="search-button" class="search-button">搜索</button>
            </div>
        </div>
        <div class="edit-mode-toggle-area"></div>
        <div class="edit-mode-toggle">
            <label class="toggle-switch">
                <input type="checkbox" id="edit-mode-toggle">
                <span class="toggle-slider"></span>
            </label>
            <span class="toggle-label">编辑模式</span>
        </div>
        <div class="buttons-container-area"></div>
        <div class="buttons-container">
            <div class="buttons-group data-buttons">
                <button class="export-btn">
                    <span>导出数据</span>
                </button>
                <button class="import-btn">
                    <span>导入数据</span>
                </button>
            </div>
            <div class="buttons-group chrome-buttons">
                <button class="chrome-import-btn">
                    <span>导入收藏夹</span>
                </button>
            </div>
            <div class="buttons-group bg-buttons">
                <button class="upload-bg-btn">
                    <span>上传背景</span>
                </button>
                <button id="clear-cache-btn" class="clear-cache-btn">
                    <span>清除缓存</span>
                </button>
            </div>
        </div>
        <div id="renjian-quote" class="renjian-quote"></div>
    </header>

    <div class="container">
        <!-- 导航菜单 - 将由JavaScript动态生成 -->
        <nav class="sidebar" id="nav-sidebar">
            <!-- 导航项目将从数据存储中动态加载 -->
        </nav>

        <!-- 内容区域 - 将由JavaScript动态生成 -->
        <div class="content" id="content-area">
            <!-- 卡片组将从数据存储中动态加载 -->
                        </div>
                </div>

    <!-- 添加规则模态框 -->
    <div class="modal-overlay" id="add-rule-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">添加新规则</h3>
                <button class="modal-close">&times;</button>
                        </div>
            <div class="modal-body">
                <form id="add-rule-form">
                    <div class="form-group">
                        <label for="rule-url" class="form-label">网站地址</label>
                        <input type="url" id="rule-url" class="form-control" placeholder="请输入网站URL，例如：https://example.com" required>
                    </div>

                    <div class="form-group">
                        <label for="rule-title" class="form-label">网站标题</label>
                        <input type="text" id="rule-title" class="form-control" placeholder="请输入规则标题" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="rule-description" class="form-label">网站简介</label>
                        <textarea id="rule-description" class="form-control" placeholder="请输入网站简介" rows="3"></textarea>
                        </div>
                    
                    <div class="form-group">
                        <label class="form-label">选择图标</label>
                        <div class="icon-selector-info">
                            <small class="form-text text-muted">选择第一个禁止图标将使用网站原始图标</small>
                        </div>
                        <div class="icon-selector" id="icon-selector">
                            <!-- 图标选项将在JavaScript中动态生成 -->
                        </div>
                        <input type="hidden" id="selected-icon" value="">
                </div>
                    
                    <div class="form-group">
                        <label for="card-style" class="form-label">卡片样式</label>
                        <select id="card-style" class="form-control">
                            <option value="card1">样式1 - 褐橙色</option>
                            <option value="card2">样式2 - 金黄色</option>
                            <option value="card3">样式3 - 洋红色</option>
                            <option value="card4">样式4 - 蛋青色</option>
                            <option value="card5">样式5 - 湖蓝色</option>
                        </select>
                        <div class="color-preview-container">
                            <div class="color-preview-items">
                                <span class="color-preview card-style-1" data-value="card1"></span>
                                <span class="color-preview card-style-2" data-value="card2"></span>
                                <span class="color-preview card-style-3" data-value="card3"></span>
                                <span class="color-preview card-style-4" data-value="card4"></span>
                                <span class="color-preview card-style-5" data-value="card5"></span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-primary" id="save-rule-btn">保存</button>
                        </div>
                </div>
            </div>

    <!-- 添加分组管理模态框 -->
    <div class="modal-overlay" id="group-management-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">分组管理</h3>
                <button class="modal-close">&times;</button>
                        </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="group-operation" class="form-label">操作类型</label>
                    <select id="group-operation" class="form-control">
                        <option value="add">添加分组</option>
                        <option value="edit">修改分组</option>
                        <option value="delete">删除分组</option>
                        <option value="move">移动分组</option>
                    </select>
                </div>
                
                <div id="group-selection-container" class="form-group" style="display: none;">
                    <label for="group-selection" class="form-label">选择分组</label>
                    <select id="group-selection" class="form-control">
                        <!-- 将通过JavaScript动态填充 -->
                    </select>
                </div>

                <div id="nav-target-container" class="form-group" style="display: none;">
                    <label for="nav-target-selection" class="form-label">选择目标菜单</label>
                    <select id="nav-target-selection" class="form-control">
                        <!-- 将通过JavaScript动态填充 -->
                    </select>
                </div>

                <div id="group-name-container" class="form-group">
                    <label for="group-name" class="form-label">分组名称</label>
                    <input type="text" id="group-name" class="form-control" placeholder="请输入分组名称" required>
                </div>
                
                <div id="group-color-container" class="form-group">
                    <label for="group-color" class="form-label">分组颜色</label>
                    <select id="group-color" class="form-control">
                        <option value="1">蛋青色 - 青绿色</option>
                        <option value="2">凤凰色 - 褐橙色</option>
                        <option value="3">滕蓝色 - 蓝色</option>
                        <option value="4">洋红色 - 深红色</option>
                        <option value="5">金黄色 - 黄色</option>
                        <option value="6">湖蓝色 - 青蓝色</option>
                    </select>
                    <div class="color-preview-container">
                        <div class="color-preview-items">
                            <span class="color-preview group-color-1" data-value="1"></span>
                            <span class="color-preview group-color-2" data-value="2"></span>
                            <span class="color-preview group-color-3" data-value="3"></span>
                            <span class="color-preview group-color-4" data-value="4"></span>
                            <span class="color-preview group-color-5" data-value="5"></span>
                            <span class="color-preview group-color-6" data-value="6"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-primary" id="save-group-btn">保存</button>
                        </div>
                </div>
            </div>

    <!-- 添加导航管理模态框 -->
    <div class="modal-overlay" id="nav-management-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">导航菜单管理</h3>
                <button class="modal-close">&times;</button>
                        </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="nav-operation" class="form-label">操作类型</label>
                    <select id="nav-operation" class="form-control">
                        <option value="add">添加菜单项</option>
                        <option value="edit">修改菜单项</option>
                        <option value="delete">删除菜单项</option>
                    </select>
            </div>

                <div id="nav-selection-container" class="form-group" style="display: none;">
                    <label for="nav-selection" class="form-label">选择菜单项</label>
                    <select id="nav-selection" class="form-control">
                        <!-- 将通过JavaScript动态填充 -->
                    </select>
            </div>

                <div id="nav-id-container" class="form-group">
                    <label for="nav-id" class="form-label">菜单ID</label>
                    <input type="text" id="nav-id" class="form-control" placeholder="请输入菜单ID（英文字母和数字）" required>
                    <small class="form-text text-muted">ID只能包含英文字母、数字和下划线，且不能与现有ID重复</small>
            </div>

                <div id="nav-name-container" class="form-group">
                    <label for="nav-name" class="form-label">菜单名称</label>
                    <input type="text" id="nav-name" class="form-control" placeholder="请输入菜单名称" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-primary" id="save-nav-btn">保存</button>
            </div>
        </div>
    </div>
    
    <!-- 添加网站标题编辑模态框 -->
    <div class="modal-overlay" id="edit-title-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">修改网站标题</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-title-form">
                    <div class="form-group">
                        <label for="website-title" class="form-label">网站标题</label>
                        <input type="text" id="website-title" class="form-control" placeholder="请输入网站标题" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-primary" id="save-title-btn">保存</button>
            </div>
        </div>
    </div>
    
    <!-- Chrome收藏夹导入模态框 -->
    <div class="modal-overlay" id="chrome-import-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">导入Chrome收藏夹</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">选择收藏夹文件 (.html)</label>
                    <div class="file-upload-container">
                        <input type="file" id="bookmarks-file" class="form-control" accept=".html">
                        <small class="form-text text-muted">请选择从Chrome导出的书签HTML文件</small>
                    </div>
                </div>
                
                <div class="import-options">
                    <div class="form-group">
                        <label class="form-label">导入选项</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="use-folders-as-groups" checked>
                                按H标签顺序进行分组导入
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="import-preview" id="import-preview">
                    <div class="preview-header">
                        <h4>导入预览</h4>
                        <span id="preview-count">0 个书签将被导入</span>
                    </div>
                    <div class="preview-content" id="preview-content">
                        <!-- 预览内容将由JavaScript填充 -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-primary" id="start-import-btn" disabled>开始导入</button>
            </div>
        </div>
    </div>
    
    <!-- 上传背景模态框 -->
    <div class="modal-overlay" id="upload-bg-modal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">上传背景</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">选择背景类型</label>
                    <div class="bg-type-selector">
                        <label class="bg-type-option">
                            <input type="radio" name="bg-type" value="image" checked>
                            <span>图片</span>
                        </label>
                        <label class="bg-type-option">
                            <input type="radio" name="bg-type" value="video">
                            <span>视频</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group" id="image-upload-container">
                    <label class="form-label">选择图片文件</label>
                    <div class="file-upload-container">
                        <input type="file" id="bg-image-file" class="form-control" accept="image/*">
                        <small class="form-text text-muted">支持JPG、PNG、GIF等格式</small>
                    </div>
                </div>
                
                <div class="form-group" id="video-upload-container" style="display: none;">
                    <label class="form-label">选择视频文件</label>
                    <div class="file-upload-container">
                        <input type="file" id="bg-video-file" class="form-control" accept="video/*">
                        <small class="form-text text-muted">支持MP4、WebM等格式</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">透明度调整</label>
                    <div class="opacity-slider-container">
                        <input type="range" id="bg-opacity" min="0" max="100" value="100" class="opacity-slider">
                        <span id="opacity-value">100%</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">特效选项</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="enable-particles">
                            启用背景粒子动画
                        </label>
                    </div>
                </div>
                
                <div class="bg-preview" id="bg-preview">
                    <div class="preview-header">
                        <h4>背景预览</h4>
                    </div>
                    <div class="preview-content" id="bg-preview-content">
                        <!-- 预览内容将由JavaScript填充 -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">取消</button>
                <button class="btn btn-danger" id="reset-bg-btn">重置背景</button>
                <button class="btn btn-primary" id="apply-bg-btn">应用背景</button>
            </div>
        </div>
    </div>
    
    <!-- 导入scripts -->
    <script type="module" src="scripts/main.js"></script>
    
    <!-- 导入JQ -->
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>

    <script>
        // 人间API调用
        $.ajax({
            url: 'https://v2.xxapi.cn/api/renjian',
            type: 'get',
            beforeSend: function () {
                //请求中执行的代码
                document.getElementById('renjian-quote').innerHTML = '加载中...';
            },
            complete: function () {
                //请求完成执行的代码
            },
            error: function () {
                //请求失败执行的代码
                document.getElementById('renjian-quote').innerHTML = '人间有你，岁月无恙。';
            },
            success: function (res) {
                // 状态码 200 表示请求成功
                if (res.code === 200) {
                    document.getElementById('renjian-quote').innerHTML = res.data;
                } else {
                    document.getElementById('renjian-quote').innerHTML = '人间有你，岁月无恙。';
                }
            }
        });
    </script>
</body>
</html>